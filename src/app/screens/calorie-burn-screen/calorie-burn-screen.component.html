<div class="calorie-burn-container">
  <h2>ğŸ”¥ Calorie Burn Estimator</h2>

  <!-- wrapper switches from 2 â†’ 3 columns when summary exists -->
  <div class="cards-grid" [class.with-results]="summary">
    <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€ â‘  personal info â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div class="wrapper">
      <form [formGroup]="userForm" class="form-card">
        <h3>ğŸ‘¤ Personal Info</h3>

        <div class="form-group">
          <label>Gender</label>
          <div class="radio-group">
            <label
              ><input type="radio" formControlName="gender" value="male" />Male</label
            >
            <label
              ><input type="radio" formControlName="gender" value="female" />Female</label
            >
          </div>
        </div>

        <div class="form-group">
          <label>Age</label>
          <input type="number" formControlName="age" />
        </div>

        <div class="form-group">
          <label>Height (cm)</label>
          <input type="number" formControlName="height" />
        </div>

        <div class="form-group">
          <label>Weight (kg)</label>
          <input type="number" formControlName="weight" />
        </div>
      </form>
    </div>

    <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€ â‘¡ perâ€‘day activity â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <form
      [formGroup]="activityForm"
      (ngSubmit)="saveDayActivity()"
      class="form-card"
    >
      <!-- day radio line -->
<!-- <div class="day-selector">
  <label *ngFor="let day of days">
    <input
      type="radio"
      name="selectedDay"
      [value]="day"
      [(ngModel)]="selectedDay"
      (change)="onDayChange()"
    />
    {{ day }}
  </label>
</div> -->

      <div class="day-selector">
        <label
          *ngFor="let d of days"
          [class.saved]="hasData(d.key)"
          [class.active]="d.key === selectedDay"
          >
 
         <input
           type="radio"
           name="day"
           [ngModelOptions]="{ standalone: true }"
           [value]="d.key"
           [(ngModel)]="selectedDay"
                   (change)="onDayChange(d)"
         />
          {{ d.label }}
        </label>
      </div>

<div *ngIf="weekData[selectedDay]">
  <p>Activity: {{ weekData[selectedDay].activity }}</p>
  <p>Distance: {{ weekData[selectedDay].distance }} km</p>
  <p>Duration: {{ weekData[selectedDay].duration }} min</p>
</div>

      <h3>ğŸƒ {{ selectedDay }} Activity</h3>

      <div class="form-group">
        <label>Activity</label>
        <select formControlName="activity">
          <option value="walk">Walking</option>
          <option value="run">Running</option>
          <option value="bike">Biking</option>
          <option value="swim">Swimming</option>
        </select>
      </div>

      <div class="form-group">
        <label>Distance (km)</label>
        <input type="number" formControlName="distance" />
      </div>

      <div class="form-group">
        <label>Duration (minutes)</label>
        <input type="number" formControlName="duration" />
      </div>

      <button type="submit" class="btn primary">Save {{ selectedDay }}</button>
    </form>

    <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€ â‘¢ results & chart (only after Calculate) â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div *ngIf="summary" class="form-card results-card">
      <h3>ğŸ“Š Weekly Burn</h3>
      <p class="weekly">{{ summary.weekly }} kcal</p>

      <div class="chart-container">
        <canvas
          baseChart
          [data]="barChartData"
          [options]="barChartOptions"
          [type]="'bar'"
        ></canvas>
      </div>
    </div>
  </div>

  <!-- buttons row -->
  <div class="buttons-row">
    <button class="btn primary" (click)="calculate()">Calculate Weekly Burn</button>
    <button class="btn secondary" (click)="navigate()">Next &gt;</button>
  </div>
</div>
