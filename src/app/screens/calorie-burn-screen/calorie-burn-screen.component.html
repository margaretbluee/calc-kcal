<div class="calorie-burn-container">
  <!-- <h2>{{ "calorieBurnScreen.title" | translate }}</h2> -->

  <!-- wrapper switches from 2 → 3 columns when summary exists -->
  <div class="cards-grid" [class.with-results]="summary">
    <!-- ───────── ① personal info ───────── -->
    <div class="wrapper">
      <form [formGroup]="userForm" class="form-card">
        <h3>{{ "calorieBurnScreen.personal" | translate }}</h3>

        <div class="form-group">
          <label>{{ "calorieBurnScreen.gender" | translate }}</label>
          <div class="radio-group">
            <label
              ><input type="radio" formControlName="gender" value="male" />{{
                "calorieBurnScreen.male" | translate
              }}</label
            >
            <label
              ><input type="radio" formControlName="gender" value="female" />{{
                "calorieBurnScreen.female" | translate
              }}</label
            >
          </div>
        </div>

        <div class="form-group">
          <label>{{ "calorieBurnScreen.age" | translate }}</label>
          <input readonly type="number" formControlName="age" />
        </div>

        <div class="form-group">
          <label>{{ "calorieBurnScreen.height" | translate }}</label>
          <input readonly type="number" formControlName="height" />
        </div>

        <div class="form-group">
          <label>{{ "calorieBurnScreen.weight" | translate }}</label>
          <input readonly type="number" formControlName="weight" />
        </div>
      </form>
    </div>

    <!-- ───────── ② per‑day activity ───────── -->
    <div class="wrapper">
      <form
        [formGroup]="activityForm"
        (ngSubmit)="saveDayActivity(); calculate()"
        class="form-card"
      >
        <div class="day-selector">
<label
  *ngFor="let d of days"
  [class.saved]="hasData(d)"
  [class.active]="(currentLang === 'el' ? d.keyEl : d.keyEn) === selectedDay"
>
  <input
    type="radio"
    name="day"
    [ngModelOptions]="{ standalone: true }"
    [value]="currentLang === 'el' ? d.keyEl : d.keyEn"
    [(ngModel)]="selectedDay"
    (change)="onDayChange(d)"
  />
  {{ currentLang === 'en' ? d.labelEn : d.labelEl }}
</label>

        </div>

        <h3>{{ "calorieBurnScreen.weekly" | translate }}</h3>

        <div class="form-group">
          <label>{{ "calorieBurnScreen.activity" | translate }}</label>
          <select formControlName="activity">
            <option value="walk">
              {{ "calorieBurnScreen.walk" | translate }}
            </option>
            <option value="run">
              {{ "calorieBurnScreen.run" | translate }}
            </option>
            <option value="bike">
              {{ "calorieBurnScreen.bike" | translate }}
            </option>
            <option value="swim">
              {{ "calorieBurnScreen.swim" | translate }}
            </option>
          </select>
        </div>

        <div class="form-group">
          <label>{{ "calorieBurnScreen.distance" | translate }}</label>
          <input type="number" formControlName="distance" />
        </div>

        <div class="form-group">
          <label>{{ "calorieBurnScreen.duration" | translate }}</label>
          <input type="number" formControlName="duration" />
        </div>

   <button type="submit" class="btn primary">
  {{
    "calorieBurnScreen.saveSelectedDay"
      | translate : { selectedDay: selectedDayLabel }
  }}
</button>

      </form>
    </div>

    <!-- ───────── ③ results & chart (only after Calculate) ───────── -->
    <div class="wrapper" *ngIf="summary">
      <div class="form-card results-card">
        <h3>{{ "calorieBurnScreen.weekly" | translate }}</h3>
        <p class="weekly">{{ summary.weekly }} kcal</p>

        <div class="chart-container">
          <canvas
            baseChart
            [data]="barChartData"
            [options]="barChartOptions"
            [type]="'bar'"
          ></canvas>
        </div>
      </div>
     
      <button class="btn primary" (click)="navigate()">{{'navigation.next' | translate}}</button>
     
    </div>

  
  </div>
</div>
